{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs2/helpers/interopRequireDefault\");\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime-corejs2/regenerator\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/esm/slicedToArray\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\"));\n\nvar _bluebird = _interopRequireDefault(require(\"bluebird\"));\n\nrequire(\"isomorphic-fetch\");\n\nfunction getProfile(_x) {\n  return _getProfile.apply(this, arguments);\n}\n\nfunction _getProfile() {\n  _getProfile = (0, _asyncToGenerator2[\"default\"])(\n  /*#__PURE__*/\n  _regenerator[\"default\"].mark(function _callee2(foodname) {\n    return _regenerator[\"default\"].wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            return _context2.abrupt(\"return\", fetch(\"http://localhost:8080/api/info?q=\".concat(foodname)).then(function (resp) {\n              //console.log(resp)\n              return resp.json();\n            }));\n\n          case 1:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _getProfile.apply(this, arguments);\n}\n\n;\n\nfunction handleError(error) {\n  console.warn(error);\n  return null;\n}\n\n;\n/*function getJson(url) {\r\n    return fetch(url).then(function(resp){\r\n        console.log(url, resp);\r\n        return resp.json();\r\n    })\r\n}*/\n\nfunction getUserData(food) {\n  return _bluebird[\"default\"].all([getProfile(food)]).then(function (_ref) {\n    var _ref2 = (0, _slicedToArray2[\"default\"])(_ref, 2),\n        profile = _ref2[0],\n        repos = _ref2[1];\n\n    //console.log(profile);\n    return {\n      profile: profile\n    };\n  });\n}\n\nmodule.exports = {\n  getInfo: function () {\n    var _getInfo = (0, _asyncToGenerator2[\"default\"])(\n    /*#__PURE__*/\n    _regenerator[\"default\"].mark(function _callee(food) {\n      return _regenerator[\"default\"].wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              return _context.abrupt(\"return\", getUserData(food)[\"catch\"](handleError));\n\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    function getInfo(_x2) {\n      return _getInfo.apply(this, arguments);\n    }\n\n    return getInfo;\n  }()\n};","map":{"version":3,"sources":["/mnt/c/Users/Krissy/Desktop/UMW_Classes/FALL_2019/CPSC350/food-complete-web-app/frontend/lib/utils.js"],"names":["require","getProfile","foodname","fetch","then","resp","json","handleError","error","console","warn","getUserData","food","BPromise","all","profile","repos","module","exports","getInfo"],"mappings":";;;;;;;;;;AACA;;AADAA,OAAO,CAAC,kBAAD,CAAP;;SAGeC,U;;;;;;;+BAAf,kBAA0BC,QAA1B;AAAA;AAAA;AAAA;AAAA;AAAA,8CAEWC,KAAK,4CAAqCD,QAArC,EAAL,CAAsDE,IAAtD,CAA2D,UAASC,IAAT,EAAe;AAC7E;AACA,qBAAOA,IAAI,CAACC,IAAL,EAAP;AACH,aAHM,CAFX;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;AAMC;;AAED,SAASC,WAAT,CAAqBC,KAArB,EAA2B;AACvBC,EAAAA,OAAO,CAACC,IAAR,CAAaF,KAAb;AACA,SAAO,IAAP;AACH;;AAAA;AAED;;;;;;;AAOA,SAASG,WAAT,CAAqBC,IAArB,EAA2B;AACvB,SAAOC,qBAASC,GAAT,CAAa,CAACb,UAAU,CAACW,IAAD,CAAX,CAAb,EAAiCR,IAAjC,CAAsC,gBAA0B;AAAA;AAAA,QAAhBW,OAAgB;AAAA,QAAPC,KAAO;;AACnE;AACA,WAAM;AAAED,MAAAA,OAAO,EAAPA;AAAF,KAAN;AACH,GAHM,CAAP;AAIH;;AAEDE,MAAM,CAACC,OAAP,GAAiB;AACbC,EAAAA,OAAO;AAAA;AAAA;AAAA,iCAAE,iBAAeP,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA,+CAEED,WAAW,CAACC,IAAD,CAAX,UAAwBL,WAAxB,CAFF;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAF;;AAAA;AAAA;AAAA;;AAAA;AAAA;AADM,CAAjB","sourcesContent":["require(\"isomorphic-fetch\");\r\nimport BPromise from \"bluebird\";\r\n\r\nasync function getProfile(foodname){\r\n    //return fetch(`http://35.245.126.165/api/info?q=${foodname}`).then(function(resp) {\r\n    return fetch(`http://localhost:8080/api/info?q=${foodname}`).then(function(resp) {\r\n        //console.log(resp)\r\n        return resp.json();\r\n    })\r\n};\r\n\r\nfunction handleError(error){\r\n    console.warn(error);\r\n    return null;\r\n};\r\n\r\n/*function getJson(url) {\r\n    return fetch(url).then(function(resp){\r\n        console.log(url, resp);\r\n        return resp.json();\r\n    })\r\n}*/\r\n\r\nfunction getUserData(food) {\r\n    return BPromise.all([getProfile(food)]).then(function([profile, repos]){\r\n        //console.log(profile);\r\n        return{ profile };\r\n    });\r\n}\r\n\r\nmodule.exports = {\r\n    getInfo: async function(food) {\r\n        //console.log(\"HERE!\");\r\n        return getUserData(food).catch(handleError);\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"script"}